{% extends "blog_base/base_with_navbar.html" %}
{% load static %}
{% load exif_extras %}

{% block title %}{{ post_list.title }}{% endblock title %}

{% block content %}
<main class="site-body d-flex flex-column align-items-center py-4" style="min-height: 100vh;">

  <!-- ì‚¬ì§„ í”„ë ˆì„ (ì•¡ì í…Œë‘ë¦¬ ì œê±°ë¨) -->
  <div class="image-frame mb-4" style="width: 95vw; height: 75vh; overflow: hidden; box-shadow: 0 0 15px rgba(0,0,0,0.4); border-radius: 12px; display: flex; justify-content: center;">
    <img src="{{ pic.image.url }}" alt="Original Image" class="img-fluid pic_frame" style="max-width: 100%; max-height: 100%; object-fit: contain; border: 1px solid white;">
  </div>

  <!-- EXIF ì •ë³´ + ê¸€ ë‚´ìš© -->
  <div class="d-flex flex-wrap justify-content-center" style="max-width: 95vw; background-color: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; color: #f1f1f1; font-size: 0.9rem;">
    
    {% if exif %}
    <div class="me-5">
      <ul class="list-unstyled">
        {% if exif.Make and exif.Model %}
          <li>ğŸ“· ì¹´ë©”ë¼: {{ exif.Make }} {{ exif.Model }}</li>
        {% endif %}
        {% if exif.LensModel %}
          <li>ğŸ”­ ë Œì¦ˆ: {{ exif.LensModel }}</li>
        {% endif %}
        {% if exif.FocalLength %}
          <li>ğŸ¯ ì´ˆì  ê±°ë¦¬: {{ exif.FocalLength|rational_to_float }} mm</li>
        {% endif %}
        {% if exif.FNumber %}
          <li>ğŸŒŸ ì¡°ë¦¬ê°œ: f/{{ exif.FNumber|rational_to_float }}</li>
        {% endif %}
        {% if exif.ExposureTime %}
          {% with num=exif.ExposureTime.0 den=exif.ExposureTime.1 %}
            <li>â± ì…”í„° ì†ë„: {{ num }}/{{ den }} ì´ˆ</li>
          {% endwith %}
        {% endif %}
        {% if exif.ISOSpeedRatings %}
          <li>ğŸŒ¡ ISO: {{ exif.ISOSpeedRatings }}</li>
        {% endif %}
        {% if exif.DateTimeOriginal %}
          <li>ğŸ“… ì´¬ì˜ ì¼ì‹œ: {{ exif.DateTimeOriginal }}</li>
        {% endif %}
      </ul>
    </div>
    {% endif %}

    <div class="content_detail" style="min-width: 200px; max-width: 500px;">
      {{ pic.content|linebreaksbr }}
    </div>

  </div>

</main>
{% endblock content %}

{% block extra_js %}
<!-- ì—¬ê¸°ì— í•„ìš”í•˜ë©´ JavaScript ì¶”ê°€ -->
{% endblock extra_js %}
